# based on https://github.com/ionelmc/python-hunter/blob/master/.travis.yml

language: python
sudo: false
branches:
  only:
    - master
    - /^\d\.\d+$/
    - /^\d\.\d+\.\d+(rc\d+|\.dev\d+)?$/
matrix:
  include:
    - python: '3.6'
      env:
        - TOXENV=py36-pure-cover,codecov
    - python: '3.6'
      env:
        - TOXENV=py36-pure-nocov
    - python: '3.6'
      env:
        - TOXENV=py36-cython-cover,codecov
    - python: '3.6'
      env:
        - TOXENV=py36-cython-nocov
install:
    - pip install -U pip tox Cython codecov
script:
    - tox
after_success:
    - codecov
